<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, shrink-to-fit=no" />
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="theme-color" content="#0091D2" />
		<meta name="robots" content="all" />
		<!--
			manifest.json provides metadata used when your web app is added to the
			homescreen on Android. See https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/
		-->
		<title><%= htmlWebpackPlugin.options.title %></title>
		<% if (htmlWebpackPlugin.options.description) { %>
		<meta name="Description" content="<%= htmlWebpackPlugin.options.description %>" />
		<% } %>
		<script>
		<% if (htmlWebpackPlugin.options.ga) { %>
		<!-- Google Analytics -->
		/**
		 * Creates a temporary global ga object and loads analytics.js.
		 * Parameters o, a, and m are all used internally. They could have been
		 * declared using 'var', instead they are declared as parameters to save
		 * 4 bytes ('var ').
		 *
		 * @param {Window}        i The global context object.
		 * @param {HTMLDocument}  s The DOM document object.
		 * @param {string}        o Must be 'script'.
		 * @param {string}        g Protocol relative URL of the analytics.js script.
		 * @param {string}        r Global name of analytics object. Defaults to 'ga'.
		 * @param {HTMLElement}   a Async script tag.
		 * @param {HTMLElement}   m First script tag in document.
		 */
		(function(i, s, o, g, r, a, m){
			i['GoogleAnalyticsObject'] = r; // Acts as a pointer to support renaming.

			// Creates an initial ga() function.
			// The queued commands will be executed once analytics.js loads.
			i[r] = i[r] || function () {
				(i[r].q = i[r].q || []).push(arguments);
			};

			// Sets the time (as an integer) this tag was executed.
			// Used for timing hits.
			i[r].l = 1 * new Date();

			// Insert the script tag asynchronously.
			// Inserts above current tag to prevent blocking in addition to using the
			// async attribute.
			a = s.createElement(o);
			m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m);
		})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

		ga('create', '${htmlWebpackPlugin.options.ga}', 'auto');
		ga('send', 'pageview');
		<!-- End Google Analytics -->
		<% } else { %>
		function ga() {};
		<% } %>
		</script>
		<% if (process.env.NODE_ENV === 'production') { %>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500">
		<% } %>
	</head>
	<body>
		<script>
			const userAgent = window.navigator.userAgent.toLowerCase();
			if (/ip(hone|ad|od)/.test(userAgent)) {
				const dest = document.querySelector('link[rel=manifest]');
				if (dest) {
					const src = document.querySelector('link[rel=manifest-ios]');
					dest.href = src.href;
				}
			}
		</script>
		<noscript>
			You need to enable JavaScript to run this app.
		</noscript>
		<div id="root"></div>
	</body>
</html>
